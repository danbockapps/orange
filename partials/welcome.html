<h3 class="text-center">
  To earn points, you must be a registered user.
</h3>

<div class="row">
  <div class="col-md-6">
    <h2 class="text-center">Need to register?</h2>
    <div ng-init="regBox = 'buttons'" ng-show="regBox === 'buttons'">
      <button
        type="button"
        class="btn btn-primary btn-block btn-lg"
        style="background-color:#3b5998"
        ng-click="regBox = 'regForm'; regMethod = 'facebook';"
      >
        <img
          src="img/fb.png"
          style="max-height:33px"
        />
        Register with Facebook
      </button>
      <p class="text-center" style="margin:14px 0px">or</p>
      <button
        type="button"
        class="btn btn-default btn-block btn-lg"
        ng-click="regBox = 'regForm'; regMethod = 'email';"
      >
        Register using email
      </button>
    </div>

    <form
      role="form"
      ng-submit="submitRegisterForm()"
      ng-show="regBox === 'regForm'"
    >
      <fieldset ng-disabled="disableRegForm">
        <div class="form-group">
          <label ng-hide="phSup" for="email">Email address:</label>
          <input
            ng-if="regMethod === 'email'"
            type="email"
            class="form-control"
            id="email"
            placeholder="Enter email address"
            ng-model="$parent.regEmail"
            required
          />
        </div>

        <p>Enter your initials below to accept our legal disclaimer.</p>
        <p>
          I have enrolled in the health and fitness program offered by Cone Health Alamance Regional and multiple community entities.  I recognize that the program may involve strenuous physical activity including, but not limited to, muscle strength and endurance training, cardiovascular conditioning and training, and other various fitness activities.  I hereby affirm that I am in good physical condition and do not suffer from any known disability or condition which would prevent or otherwise limit my full participation in this physical program.
        </p>
        <p>
          In addition, I am fully aware of the risks and hazards connected with the participation in the physical program including, but not limited to, physical injury or even death.  I hereby elect to voluntarily participate in this program knowing that the associated physical activity may be hazardous to me and/or my property.  <span style="text-decoration: underline">I VOLUNTARILY ASSUME FULL RESPONSIBILITY FOR ANY RISKS OR LOSS, PROPERTY DAMAGE, OR PERSONAL INJURY, INCLUDING DEATH, THAT MAY BE SUSTAINED BY ME, OR LOSS OR DAMAGE TO PROPERTY OWNED BY ME, AS A RESULT OF PARTICIPATION IN THIS PROGRAM.</span>
        </p>
        <p>
          I hereby release, waive, discharge, and covenant not to sue the organization, officers, servants, agents, consultants, volunteers, and/or employees of Cone Health Alamance Regional and various community partners who offer physical activity training, equipment, education, or locations in which training occurs, including but not limited to <em>Alamance Regional Medical Center, Holly Hill Mall, Alamance County Community YMCA, Alamance-Burlington School System, City of Graham, City of Burlington, Alamance County Health Department, City of Elon, Elon University, City of Mebane, Mebane Women's Club, Complete Fitness for Women, Om Shanti Yoga, HealthSource Chiropractic, Walgreen's, Beshel Chiropractic Center, Omega Sports, Haw River Canoe and Kayak, Company Shops Co-op Market, NC Cooperative Extension, Beschel Chiropractic, Tri-City Hustlerz, Burlington Krav Maga, Gold's Gym, The Eddy Pub, The Bridge, Earth Harvest, Blessed Sacrament Church and Zenitree</em> from <span style="text-decoration: underline">any and all</span> liability, claims, demands, actions, and causes of action whatsoever arising out of or related to any loss, damage, or injury (including, but not limited to, death) that may be sustained by me, or to any property belonging to me, while participating in this program, or while on or upon the premises where the event is being conducted including, but not limited to, any claims arising under negligence.
        </p>
        <p>
          It is my expressed intent that this waiver and release shall bind any and all members of my family including, but not limited to, my spouse, if I am alive, and my heirs, assigns, and personal representatives, if I am deceased.  It is also my expressed intent that this waiver and release shall also be deemed a full release, waiver, discharge, and covenant not to sue insofar as my aforementioned family members, heirs, assigns, and personal representatives are concerned.  I hereby further agree that this waiver and release shall be constructed in accordance with the laws of the State of North Carolina.
        </p>
        <p>
          In signing this waiver and release, I acknowledge and represent that I have read and understand the foregoing and hereby sign it voluntarily as my own free act and deed; no oral representations, statements or inducements, apart from the foregoing written agreements have been made; and I hereby execute this waiver and release for valuable consideration, intending to be bound by the same.
        </p>
        <p class="text-center">
          <strong>Initial here: </strong>
          <input type="text" ng-model="initials" required />
        </p>

        <div
          ng-show="regMethod === 'email'"
          id="drecaptcha"
          class="text-center"
          style="margin-bottom: 1em"
        ></div>
        <button
          type="submit"
          class="btn btn-primary center-block"
          ng-hide="disableRegForm"
        >
          Submit
        </button>
        <img
          src="img/spinner.gif"
          class="center-block"
          ng-show="disableRegForm"
          style="padding-top:7px; padding-bottom:7px"
        />
      </fieldset>
    </form>
  </div>

  <div class="col-md-6">
    <h2 class="text-center">Already registered?</h2>
    <div ng-hide="showLoginForm">
      <a
        href="fb_init.php"
        class="btn btn-primary btn-block btn-lg"
        style="background-color:#3b5998"
      >
        <img
          src="img/fb.png"
          style="max-height:33px"
        />
        Login with Facebook
      </a>
      <p class="text-center" style="margin:14px 0px">or</p>
      <button
        type="button"
        class="btn btn-default btn-block btn-lg"
        ng-click="showLoginForm=true"
      >
        Login using email and password
      </button>
    </div>

    <form
      role="form"
      ng-submit="submitLoginForm(loginEmail, loginPassword)"
      ng-show="showLoginForm"
    >
      <fieldset ng-disabled="disableLoginForm">
        <div class="form-group">
          <input
            type="text"
            class="form-control"
            name="loginEmail"
            ng-model="loginEmail"
            placeholder="Email"
            required
          />
        </div>

        <div class="form-group">
          <input
            type="password"
            class="form-control"
            name="loginPassword"
            ng-model="loginPassword"
            placeholder="Password"
            required
          />
        </div>

        <div style="clear:both">
          <button
            type="submit"
            class="btn btn-default"
            style="float:left; margin-bottom: 0.4em"
            ng-hide="disableLoginForm"
          >
            Log In
          </button>

          <img src="img/spinner.gif" ng-show="disableLoginForm" />

          <a
            href="javascript:"
            ng-click="showPasswordRecover()"
            class="text-center"
            style="float:left; margin: 0.5em 1em"
            ng-hide="disableLoginForm"
          >help</a>

          <a
            href="fb_init.php"
            class="btn btn-primary btn-sm"
            style="background-color:#3b5998; float:right"
          >
            <img src="img/fb.png" style="max-height:15px" />
            Login with Facebook
          </a>

        </div>
      </fieldset>
    </form>
  </div>
</div>
<script
  src="https://www.google.com/recaptcha/api.js?onload=onloadCallback&render=explicit"
  async
  defer
></script>
<script> // "
  var onloadCallback = function() {
    grecaptcha.render('drecaptcha', {
      'sitekey' : '6Lcmbf8SAAAAAHuWfDgbj0jYTpVI-kqPt-9oPkh4'
    });

    // This is such a terrible way to do this
    setInterval(function() {
      $("#drecaptcha > div > div").css("width", "");
    }, 1000);
  };
</script>
