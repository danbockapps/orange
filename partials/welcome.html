<div class="row">  
  <div class="modal fade" id="RegError">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">
            <span aria-hidden="true">&times;</span>
            <span class="sr-only">Close</span>
          </button>
          <h4 class="modal-title">
            <span 
              style="color: red" 
              class="glyphicon glyphicon-exclamation-sign"
            ></span>
            Error creating an account
          </h4>
        </div>
        <div class="modal-body">
          <p>{{regErrorMsg}}</p>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">
            Close
          </button>
        </div>
      </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
  </div><!-- /.modal -->  
  
  <div class="col-md-7">
    <h1 class="text-center">Welcome to Be Healthy Now Alamance</h1>
    <img
      class="center-block img-responsive img-rounded" 
      src="http://behealthynowalamance.com/wp-content/uploads/WINNERS.png" 
    />
    <p style="margin: 10px">
      The competition will begin on Saturday, April 4. Create an account now
      and you will be able to log in and participate!
    </p>
  </div>

  <div class="col-md-5">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title text-center">Join Now</h3>
      </div>
      <form 
        class="panel-body"
        role="form" 
        ng-submit="submitRegisterForm()" 
      >
        <fieldset ng-disabled="disableRegForm">
          <div class="form-group">
            <input
              type="email"
              class="form-control"
              id="email"
              name="email"
              placeholder="Enter email address"
              ng-model="regEmail"
              required
            />
          </div>
          <div class="form-group">
            <input
              type="password"
              class="form-control"
              id="password1"
              name="password1"
              placeholder="Enter password"
              ng-model="password1"
              required
            />
          </div>
          <div class="form-group">
            <input
              type="password"
              class="form-control"
              id="password2"
              name="password2"
              placeholder="Re-enter password"
              ng-model="password2"
              required
            />
          </div>
          <div
            id="drecaptcha" 
            class="text-center" 
            style="margin-bottom: 1em"
          ></div>
          <button
            type="submit" 
            class="btn btn-primary center-block"
            ng-hide="disableRegForm"
          >
            Submit
          </button>
          <img
            src="img/spinner.gif"
            class="center-block"
            ng-show="disableRegForm"
            style="padding-top:7px; padding-bottom:7px"
          />
        </fieldset>
      </form>
    </div>
  </div>
</div>
<script
  src="https://www.google.com/recaptcha/api.js?onload=onloadCallback&render=explicit"
  async 
  defer
></script>
<script>
  var onloadCallback = function() {
    grecaptcha.render('drecaptcha', {
      'sitekey' : '6Lcmbf8SAAAAAHuWfDgbj0jYTpVI-kqPt-9oPkh4'
    });
    
    // (I have no idea why I have to use setTimeout here)
    setTimeout(function() {
      $("#drecaptcha > div > div").css("width", "");
    }, 500);
  };
</script>
